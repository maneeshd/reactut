!function(e){function t(t){for(var o,l,i=t[0],u=t[1],s=t[2],d=0,f=[];d<i.length;d++)l=i[d],r[l]&&f.push(r[l][0]),r[l]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(c&&c(t);f.length;)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={0:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/static/js/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=u;a.push([9,1]),n()}({22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=c(n(0)),a=c(n(23)),l=c(n(24)),i=c(n(26)),u=c(n(27)),s=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}a.default.defaultProps={title:"Indecision?"};var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={options:[],selectedOption:void 0},n.handleAddOption=n.handleAddOption.bind(n),n.handleRemoveAll=n.handleRemoveAll.bind(n),n.handleRemoveOne=n.handleRemoveOne.bind(n),n.handlePickOne=n.handlePickOne.bind(n),n.closeOptionModal=n.closeOptionModal.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("options"),t=JSON.parse(e);t&&this.setState(function(){return{options:t}})}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){if(t.options.length!==this.state.options.length){var n=JSON.stringify(this.state.options);localStorage.setItem("options",n)}}},{key:"handleAddOption",value:function(e){return e?this.state.options.indexOf(e)>-1?r.default.createElement("span",null,r.default.createElement("b",null,"DuplicateOption:")," Option already exists"):void this.setState(function(t,n){return{options:t.options.concat([e])}}):r.default.createElement("span",null,r.default.createElement("b",null,"InvalidOption:")," Enter a valid value to add option")}},{key:"handleRemoveAll",value:function(){this.setState(function(){return{options:[]}})}},{key:"handleRemoveOne",value:function(e){this.setState(function(t){return{options:t.options.filter(function(t){return t!==e})}})}},{key:"handlePickOne",value:function(){var e=this,t=Math.floor(Math.random()*this.state.options.length);this.setState(function(){return{selectedOption:e.state.options[t]}})}},{key:"closeOptionModal",value:function(){this.setState(function(){return{selectedOption:void 0}})}},{key:"render",value:function(){return r.default.createElement("div",{className:"container w-50 shadow-lg p-2 text-center mt-4"},r.default.createElement(a.default,{subtitle:"Let the machine decide for you"}),r.default.createElement("hr",null),r.default.createElement(u.default,{hasOptions:this.state.options.length>0,handlePickOne:this.handlePickOne}),r.default.createElement(l.default,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({options:this.state.options,handleRemoveAll:this.handleRemoveAll,handleRemoveOne:this.handleRemoveOne},"handleRemoveOne",this.handleRemoveOne)),r.default.createElement(i.default,{handleAddOption:this.handleAddOption}),r.default.createElement(s.default,{selectedOption:this.state.selectedOption,closeOptionModal:this.closeOptionModal}))}}]),t}();t.default=d},23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return o.default.createElement("div",null,o.default.createElement("h1",null,e.title),e.subtitle&&o.default.createElement("p",{className:"lead"},e.subtitle))}},24:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(25));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return o.default.createElement("div",null,o.default.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center"},o.default.createElement("div",{className:"mb-2 w-25 text-center text-wrap"},e.options.map(function(t){return o.default.createElement(r.default,{option:t,key:t,handleRemoveOne:e.handleRemoveOne})})),0===e.options.length&&o.default.createElement("p",null,"Please add an option to get started!"),o.default.createElement("button",{className:"btn btn-sm btn-danger btn-block w-25 shadow mb-2",onClick:e.handleRemoveAll,disabled:!e.options.length},"Remove All")))}},25:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return o.default.createElement("div",null,o.default.createElement("span",{className:"font-weight-bold"},e.option),o.default.createElement("button",{className:"btn btn-xs btn-danger ml-2 font-weight-bold py-1 px-1","data-type":"minus",style:{fontSize:"10px"},onClick:function(t){e.handleRemoveOne(e.option)}},"-"))}},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputValue:"",error:void 0},n.formSubmitHandler=n.formSubmitHandler.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"formSubmitHandler",value:function(e){e.preventDefault();var t=e.target.elements.option.value.trim(),n=this.props.handleAddOption(t);this.setState({error:n}),n||this.setState({inputValue:""})}},{key:"render",value:function(){var e=this;return r.default.createElement("div",null,this.state.error&&r.default.createElement("div",{className:"alert alert-danger p-1 mt-2"},this.state.error),r.default.createElement("form",{className:"form-inline justify-content-center",id:"addOptionForm",onSubmit:this.formSubmitHandler},r.default.createElement("div",{className:"form-row"},r.default.createElement("div",{className:"col"},r.default.createElement("input",{className:"form-control shadow",type:"text",name:"option",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value,error:void 0})}})),r.default.createElement("div",{className:"col"},r.default.createElement("button",{className:"form-control btn btn-success mb-2 shadow","data-type":"plus"},"Add Option")))))}}]),t}();t.default=a},27:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){return o.default.createElement("div",{className:"d-flex justify-content-center"},o.default.createElement("button",{className:"btn btn-primary mb-4 w-50 shadow btn-block font-weight-bold",onClick:e.handlePickOne,disabled:!e.hasOptions},"What should I do?"))}},28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(0)),r=a(n(29));function a(e){return e&&e.__esModule?e:{default:e}}r.default.setAppElement(document.getElementById("app"));var l={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",textAlign:"center",transform:"translate(-50%, -50%)"}};t.default=function(e){return o.default.createElement(r.default,{isOpen:!!e.selectedOption,contentLabel:"Selected Option",onRequestClose:e.closeOptionModal,style:l},o.default.createElement("h1",null,"Selected Option: ",e.selectedOption),o.default.createElement("button",{className:"btn btn-primary shadow-sm font-weight-bold",onClick:e.closeOptionModal},"OK, thanks."))}},40:function(e,t,n){var o=n(41);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(o,r);o.locals&&(e.exports=o.locals)},41:function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"html, body {\r\n    margin: 0;\r\n    max-width: 100;\r\n    max-height: 100;\r\n    font-family: 'Open Sans', Helvetica, sans-serif;\r\n}\r\n\r\n.text-wrap {\r\n    word-wrap: break-word;\r\n}\r\n\r\n.btn-group-xs > .btn, .btn-xs {\r\n    padding  : .25rem .4rem;\r\n    font-size  : .875rem;\r\n    line-height  : .5;\r\n    border-radius : .2rem;\r\n}",""])},9:function(e,t,n){"use strict";n(10),n(12),n(15);var o=l(n(0)),r=l(n(5)),a=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}n(40),r.default.render(o.default.createElement(a.default,null),document.getElementById("app"))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvSW5kZWNpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvT3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9PcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQWRkT3B0aW9uLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9PcHRpb25Nb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3N0eWxlcy5jc3M/OGQ3OSIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkhlYWRlciIsImRlZmF1bHRQcm9wcyIsInRpdGxlIiwiSW5kZWNpc2lvbiIsInByb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsInN0YXRlIiwib3B0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwidW5kZWZpbmVkIiwiaGFuZGxlQWRkT3B0aW9uIiwiaGFuZGxlUmVtb3ZlQWxsIiwiaGFuZGxlUmVtb3ZlT25lIiwiaGFuZGxlUGlja09uZSIsImNsb3NlT3B0aW9uTW9kYWwiLCJSZWFjdCIsIkNvbXBvbmVudCIsImpzb25fc3RyIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInNldFN0YXRlIiwiZXJyb3IiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJqc29uIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsIm9wdGlvbiIsImluZGV4T2YiLCJfcmVhY3QyIiwiZGVmYXVsdCIsImNyZWF0ZUVsZW1lbnQiLCJjb25jYXQiLCJmaWx0ZXIiLCJlbGVtZW50IiwiX3RoaXMyIiwicmFuZF9pZHgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjbGFzc05hbWUiLCJfSGVhZGVyMiIsInN1YnRpdGxlIiwiX0FjdGlvbjIiLCJoYXNPcHRpb25zIiwiX09wdGlvbnMyIiwiX2RlZmluZVByb3BlcnR5IiwiX0FkZE9wdGlvbjIiLCJfT3B0aW9uTW9kYWwyIiwibWFwIiwiX09wdGlvbjIiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJkYXRhLXR5cGUiLCJzdHlsZSIsImZvbnRTaXplIiwiZSIsIkFkZE9wdGlvbiIsImlucHV0VmFsdWUiLCJmb3JtU3VibWl0SGFuZGxlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJlbnRlcmVkX29wdGlvbiIsInRhcmdldCIsImVsZW1lbnRzIiwidHJpbSIsImlkIiwib25TdWJtaXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJNb2RhbCIsInNldEFwcEVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3VzdG9tU3R5bGVzIiwiY29udGVudCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIm1hcmdpblJpZ2h0IiwidGV4dEFsaWduIiwidHJhbnNmb3JtIiwiX3JlYWN0TW9kYWwyIiwiaXNPcGVuIiwiY29udGVudExhYmVsIiwib25SZXF1ZXN0Q2xvc2UiLCJobXIiLCJpbnNlcnRJbnRvIiwibG9jYWxzIiwiUmVhY3RET00iLCJyZW5kZXIiLCJfSW5kZWNpc2lvbjIiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBUUEsSUFQQSxJQU1BQyxFQUFBQyxFQU5BQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUlBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFLQSxJQUZBZSxLQUFBaEIsR0FFQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixP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QU9vQixHQUVQN0MsRUFBQUMsUUFBQUMsY0FBQSw4QkFBc0JsQyxFQUFNUyxnQkFDNUJ1QixFQUFBQyxRQUFBQyxjQUFBLFVBQVFTLFVBQVUsNkNBQTZDVyxRQUFTdEQsRUFBTWUsa0JBQTlFLHFDQ3hCUixJQUFBK0QsRUFBY3JILEVBQVEsSUFFdEIsaUJBQUFxSCxRQUE0Q2hILEVBQUExQixFQUFTMEksRUFBQSxNQU9yRCxJQUFBdEUsR0FBZWtGLEtBQUEsRUFFZkwsZUFQQUEsRUFRQU0sZ0JBQUFqRixHQUVhakQsRUFBUSxFQUFSQSxDQUEyRHFILEVBQUF0RSxHQUV4RXNFLEVBQUFjLFNBQUE5SCxFQUFBRCxRQUFBaUgsRUFBQWMsNkJDakJBOUgsRUFBQUQsUUFBMkJKLEVBQVEsRUFBUkEsRUFBdUQsSUFLbEZqQixNQUFjc0IsRUFBQTFCLEVBQVMscVdBQXFXLHFDQ0c1WHFCLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0EsUUFBQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsd0RBQ0FBLEVBQUEsSUFHQW9JLFVBQVNDLE9BQU85RCxFQUFBQyxRQUFBQyxjQUFDNkQsRUFBQTlELFFBQUQsTUFBZ0IwQyxTQUFTQyxlQUFlIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc3RhdGljL2pzL1wiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbOSwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi9IZWFkZXJcIjtcclxuaW1wb3J0IE9wdGlvbnMgZnJvbSBcIi4vT3B0aW9uc1wiO1xyXG5pbXBvcnQgQWRkT3B0aW9uIGZyb20gXCIuL0FkZE9wdGlvblwiO1xyXG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL0FjdGlvblwiO1xyXG5pbXBvcnQgT3B0aW9uTW9kYWwgZnJvbSBcIi4vT3B0aW9uTW9kYWxcIjtcclxuXHJcblxyXG5IZWFkZXIuZGVmYXVsdFByb3BzID0ge1xyXG4gICAgdGl0bGU6IFwiSW5kZWNpc2lvbj9cIlxyXG59O1xyXG5cclxuLy8gTWFpbiBDb21wb25lbnQgQ2xhc3MgZm9yIEFwcFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmRlY2lzaW9uIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICAgICAgLy8gQ2FsbCBwYXJlbnQgY2xhc3MgY29uc3RydWN0b3JcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIC8vIFNldCBzdGF0ZSB2YXJpYWJsZXNcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBvcHRpb25zOiBbXSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIE1ldGhvZCBCaW5kaW5nc1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQWRkT3B0aW9uID0gdGhpcy5oYW5kbGVBZGRPcHRpb24uYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVJlbW92ZUFsbCA9IHRoaXMuaGFuZGxlUmVtb3ZlQWxsLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVSZW1vdmVPbmUgPSB0aGlzLmhhbmRsZVJlbW92ZU9uZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlUGlja09uZSA9IHRoaXMuaGFuZGxlUGlja09uZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VPcHRpb25Nb2RhbCA9IHRoaXMuY2xvc2VPcHRpb25Nb2RhbC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgY29uc3QganNvbl9zdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm9wdGlvbnNcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBKU09OLnBhcnNlKGpzb25fc3RyKTtcclxuICAgICAgICAgICAgaWYob3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoe29wdGlvbnM6IG9wdGlvbnN9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIERvIE5vdGhpbmchXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xyXG4gICAgICAgIGlmIChwcmV2U3RhdGUub3B0aW9ucy5sZW5ndGggIT09IHRoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwib3B0aW9uc1wiLCBqc29uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlQWRkT3B0aW9uKG9wdGlvbikge1xyXG4gICAgICAgIGlmICghb3B0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8c3Bhbj48Yj5JbnZhbGlkT3B0aW9uOjwvYj4gRW50ZXIgYSB2YWxpZCB2YWx1ZSB0byBhZGQgb3B0aW9uPC9zcGFuPjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZS5vcHRpb25zLmluZGV4T2Yob3B0aW9uKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiA8c3Bhbj48Yj5EdXBsaWNhdGVPcHRpb246PC9iPiBPcHRpb24gYWxyZWFkeSBleGlzdHM8L3NwYW4+O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAgICAgIChwcmV2U3RhdGUsIHByb3BzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgb3B0aW9uczogcHJldlN0YXRlLm9wdGlvbnMuY29uY2F0KFtvcHRpb25dKSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSZW1vdmVBbGwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyBvcHRpb25zOiBbXSB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVtb3ZlT25lKG9wdGlvbikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAgICAgIChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBwcmV2U3RhdGUub3B0aW9ucy5maWx0ZXIoKGVsZW1lbnQpID0+IGVsZW1lbnQgIT09IG9wdGlvbilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBpY2tPbmUoKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZF9pZHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnN0YXRlLm9wdGlvbnMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgICAgICAoKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IHRoaXMuc3RhdGUub3B0aW9uc1tyYW5kX2lkeF1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlT3B0aW9uTW9kYWwoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcclxuICAgICAgICAgICAgKCkgPT4gKHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uOiB1bmRlZmluZWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBhcHBTdWJUaXRsZSA9IFwiTGV0IHRoZSBtYWNoaW5lIGRlY2lkZSBmb3IgeW91XCI7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHctNTAgc2hhZG93LWxnIHAtMiB0ZXh0LWNlbnRlciBtdC00XCI+XHJcbiAgICAgICAgICAgICAgICA8SGVhZGVyIHN1YnRpdGxlPXthcHBTdWJUaXRsZX0gLz5cclxuICAgICAgICAgICAgICAgIDxociAvPlxyXG4gICAgICAgICAgICAgICAgPEFjdGlvbiBoYXNPcHRpb25zPXt0aGlzLnN0YXRlLm9wdGlvbnMubGVuZ3RoID4gMH0gaGFuZGxlUGlja09uZT17dGhpcy5oYW5kbGVQaWNrT25lfSAvPlxyXG4gICAgICAgICAgICAgICAgPE9wdGlvbnMgb3B0aW9ucz17dGhpcy5zdGF0ZS5vcHRpb25zfSBoYW5kbGVSZW1vdmVBbGw9e3RoaXMuaGFuZGxlUmVtb3ZlQWxsfSBoYW5kbGVSZW1vdmVPbmU9e3RoaXMuaGFuZGxlUmVtb3ZlT25lfSBoYW5kbGVSZW1vdmVPbmU9e3RoaXMuaGFuZGxlUmVtb3ZlT25lfSAvPlxyXG4gICAgICAgICAgICAgICAgPEFkZE9wdGlvbiBoYW5kbGVBZGRPcHRpb249e3RoaXMuaGFuZGxlQWRkT3B0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgPE9wdGlvbk1vZGFsIHNlbGVjdGVkT3B0aW9uPXt0aGlzLnN0YXRlLnNlbGVjdGVkT3B0aW9ufSBjbG9zZU9wdGlvbk1vZGFsPXt0aGlzLmNsb3NlT3B0aW9uTW9kYWx9Lz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcbi8vIEhlYWRlciB0aXRsZSBhbmQgc3ViLXRpdGxlIFN0YXRlbGVzcyBDb21wb25lbnQgQ2xhc3NcclxuY29uc3QgSGVhZGVyID0gKHByb3BzKSA9PiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxoMT57cHJvcHMudGl0bGV9PC9oMT5cclxuICAgICAgICB7cHJvcHMuc3VidGl0bGUgJiYgPHAgY2xhc3NOYW1lPVwibGVhZFwiPntwcm9wcy5zdWJ0aXRsZX08L3A+fVxyXG4gICAgPC9kaXY+XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuL09wdGlvblwiO1xyXG5cclxuLy8gT3B0aW9ucyBMaXN0IFN0YXRlbGVzcyBDb21wb25lbnQgQ2xhc3NcclxuY29uc3QgT3B0aW9ucyA9IChwcm9wcykgPT4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgdy0yNSB0ZXh0LWNlbnRlciB0ZXh0LXdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5vcHRpb25zLm1hcCgob3B0aW9uKSA9PiA8T3B0aW9uIG9wdGlvbj17b3B0aW9ufSBrZXk9e29wdGlvbn0gaGFuZGxlUmVtb3ZlT25lPXtwcm9wcy5oYW5kbGVSZW1vdmVPbmV9IC8+KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge3Byb3BzLm9wdGlvbnMubGVuZ3RoID09PSAwICYmIDxwPlBsZWFzZSBhZGQgYW4gb3B0aW9uIHRvIGdldCBzdGFydGVkITwvcD59XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyIGJ0bi1ibG9jayB3LTI1IHNoYWRvdyBtYi0yXCIgb25DbGljaz17cHJvcHMuaGFuZGxlUmVtb3ZlQWxsfSBkaXNhYmxlZD17IXByb3BzLm9wdGlvbnMubGVuZ3RofT5SZW1vdmUgQWxsPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnM7XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcbi8vIE9wdGlvbiBFbnRyeSBTdGF0ZWxlc3MgQ29tcG9uZW50IENsYXNzXHJcbmNvbnN0IE9wdGlvbiA9IChwcm9wcykgPT4gKFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXdlaWdodC1ib2xkXCI+e3Byb3BzLm9wdGlvbn08L3NwYW4+XHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXhzIGJ0bi1kYW5nZXIgbWwtMiBmb250LXdlaWdodC1ib2xkIHB5LTEgcHgtMVwiXHJcbiAgICAgICAgICAgIGRhdGEtdHlwZT1cIm1pbnVzXCJcclxuICAgICAgICAgICAgc3R5bGU9e3sgXCJmb250U2l6ZVwiOiBcIjEwcHhcIiB9fVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsgKGUpID0+IHsgcHJvcHMuaGFuZGxlUmVtb3ZlT25lKHByb3BzLm9wdGlvbik7IH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgICAtXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9wdGlvbjsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcblxyXG4vLyBBZGRPcHRpb24gYnV0dG9uIENvbXBvbmVudCBDbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRPcHRpb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGlucHV0VmFsdWU6IFwiXCIsXHJcbiAgICAgICAgICAgIGVycm9yOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmZvcm1TdWJtaXRIYW5kbGVyID0gdGhpcy5mb3JtU3VibWl0SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvcm1TdWJtaXRIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW50ZXJlZF9vcHRpb24gPSBldmVudC50YXJnZXQuZWxlbWVudHMub3B0aW9uLnZhbHVlLnRyaW0oKTtcclxuICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMucHJvcHMuaGFuZGxlQWRkT3B0aW9uKGVudGVyZWRfb3B0aW9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9yOiBlcnJvciB9KTtcclxuXHJcbiAgICAgICAgaWYoIWVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBcIlwifSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3IgJiYgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1kYW5nZXIgcC0xIG10LTJcIj57dGhpcy5zdGF0ZS5lcnJvcn08L2Rpdj59XHJcbiAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzc05hbWU9XCJmb3JtLWlubGluZSBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCIgaWQ9XCJhZGRPcHRpb25Gb3JtXCIgb25TdWJtaXQ9e3RoaXMuZm9ybVN1Ym1pdEhhbmRsZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9ybS1yb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgc2hhZG93XCIgdHlwZT1cInRleHRcIiBuYW1lPVwib3B0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5pbnB1dFZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBlLnRhcmdldC52YWx1ZSwgZXJyb3I6IHVuZGVmaW5lZCB9KX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBidG4gYnRuLXN1Y2Nlc3MgbWItMiBzaGFkb3dcIiBkYXRhLXR5cGU9XCJwbHVzXCI+QWRkIE9wdGlvbjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuXHJcblxyXG4vLyBEZWNpc2lvbiBBY3Rpb24gYnV0dG9uIFN0YXRlbGVzcyBDb21wb25lbnQgQ2xhc3NcclxuY29uc3QgQWN0aW9uID0gKHByb3BzKSA9PiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgbWItNCB3LTUwIHNoYWRvdyBidG4tYmxvY2sgZm9udC13ZWlnaHQtYm9sZFwiIG9uQ2xpY2s9e3Byb3BzLmhhbmRsZVBpY2tPbmV9IGRpc2FibGVkPXshcHJvcHMuaGFzT3B0aW9uc30+V2hhdCBzaG91bGQgSSBkbz88L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWN0aW9uOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IE1vZGFsIGZyb20gXCJyZWFjdC1tb2RhbFwiO1xyXG5cclxuTW9kYWwuc2V0QXBwRWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSk7XHJcblxyXG5jb25zdCBjdXN0b21TdHlsZXMgPSB7XHJcbiAgICBjb250ZW50OiB7XHJcbiAgICAgICAgdG9wOiBcIjUwJVwiLFxyXG4gICAgICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICAgICAgcmlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgIGJvdHRvbTogXCJhdXRvXCIsXHJcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiLTUwJVwiLFxyXG4gICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcclxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsIC01MCUpXCJcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IE9wdGlvbk1vZGFsID0gKHByb3BzKSA9PiAoXHJcbiAgICA8TW9kYWwgXHJcbiAgICAgICAgaXNPcGVuPXshIXByb3BzLnNlbGVjdGVkT3B0aW9ufSBcclxuICAgICAgICBjb250ZW50TGFiZWw9XCJTZWxlY3RlZCBPcHRpb25cIlxyXG4gICAgICAgIG9uUmVxdWVzdENsb3NlPXtwcm9wcy5jbG9zZU9wdGlvbk1vZGFsfVxyXG4gICAgICAgIHN0eWxlPXtjdXN0b21TdHlsZXN9XHJcbiAgICA+XHJcbiAgICAgICAgPGgxPlNlbGVjdGVkIE9wdGlvbjoge3Byb3BzLnNlbGVjdGVkT3B0aW9ufTwvaDE+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgc2hhZG93LXNtIGZvbnQtd2VpZ2h0LWJvbGRcIiBvbkNsaWNrPXtwcm9wcy5jbG9zZU9wdGlvbk1vZGFsfT5PSywgdGhhbmtzLjwvYnV0dG9uPlxyXG4gICAgPC9Nb2RhbD5cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE9wdGlvbk1vZGFsOyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3R5bGVzLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCwgYm9keSB7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgbWF4LXdpZHRoOiAxMDA7XFxyXFxuICAgIG1heC1oZWlnaHQ6IDEwMDtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxyXFxufVxcclxcblxcclxcbi50ZXh0LXdyYXAge1xcclxcbiAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxyXFxufVxcclxcblxcclxcbi5idG4tZ3JvdXAteHMgPiAuYnRuLCAuYnRuLXhzIHtcXHJcXG4gICAgcGFkZGluZyAgOiAuMjVyZW0gLjRyZW07XFxyXFxuICAgIGZvbnQtc2l6ZSAgOiAuODc1cmVtO1xcclxcbiAgICBsaW5lLWhlaWdodCAgOiAuNTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1cyA6IC4ycmVtO1xcclxcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvKlxyXG4qIEluZGVjaXNpb246IEEgc2ltcGxlIGFwcCB0byByYW5kb21seSBwaWNrIGFuIG9wdGlvbiBmcm9tIGEgbGlzdCB1c2luZyBSZWFjdCBDb21wb25lbnRzXHJcbipcclxuKiBBdXRob3I6IE1hbmVlc2ggRCA8bWFuZWVzaGQ3N0BnbWFpbC5jb20+XHJcbiovXHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBcImpxdWVyeS9kaXN0L2pxdWVyeS5taW5cIjtcclxuaW1wb3J0IFwiYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwLmJ1bmRsZS5taW5cIjtcclxuaW1wb3J0IFwiYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzXCI7XHJcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcclxuaW1wb3J0IEluZGVjaXNpb24gZnJvbSBcIi4vY29tcG9uZW50cy9JbmRlY2lzaW9uXCI7XHJcbmltcG9ydCBcIi4vc3R5bGVzL3N0eWxlcy5jc3NcIjtcclxuXHJcblxyXG5SZWFjdERPTS5yZW5kZXIoPEluZGVjaXNpb24gLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXSwic291cmNlUm9vdCI6IiJ9